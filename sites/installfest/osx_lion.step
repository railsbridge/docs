step "Open Terminal" do
  message "Look for **Terminal.app** inside Applications -> Utilities."

  message "Add it to your dock; you'll be using it a lot. (To add it to the dock, click and hold the dock icon once Terminal is open. Select options -> keep in dock.)"
  
  tip "Arrange your windows so that Terminal and your web browser are next to each other. You will want to *read* from your browser and *type into* your terminal *at the same time*."
end

step "Install A Compiler (XCode or GCC)" do
  link "install_xcode"
end

step "Install Homebrew" do
  console "which git"
  result "/usr/bin/git"
  message "If you get the result above skip to: <a href='#install_rvm'>Install RVM</a>" 
  link "install_homebrew"
end

step "Install Git" do
  message "Next we'll install Git, the most popular version control system in the Ruby world:"

  console "brew install git"

  verify do
    console "git --version"
    result "git version 1.7.4.4"
  end

  link "configure_git"
end

step "Install RVM, the Ruby Version Manager ", {:anchor_name => 'install_rvm'} do
  link "install_rvm"
end

step "Install Rails" do  
  console "gem install rails"
  verify do
    console "rails -v"
    result "Rails 3.2.3"
  end
end

step "Install Emacs" do
  message "We'll be using the Emacs text editor during the workshop. All other editors suck so just use Emacs for everything."

 important "Never. Quit. Emacs."

  link "install_emacs_for_mac"
end

step "Install the heroku tool" do
  console "gem install heroku"
end

verify "successful installation" do
  console "which git"
  result "/usr/bin/git"

  console "which ruby"
  result "/Users/alex/.rvm/rubies/ruby-1.9.2-p290/bin/ruby"

  console "which rails"
  result "/Users/alex/.rvm/gems/ruby-1.9.2-p290/bin/rails"

  console "which heroku"
  result "/Users/alex/.rvm/gems/ruby-1.9.2-p290/bin/heroku"
end

step "Generate an ssh public key" do
  link "create_an_ssh_key"
end

step "Congratulations!" do
  message "You have everything you need to write a Ruby on Rails application."
end

next_step "create_a_heroku_account"
